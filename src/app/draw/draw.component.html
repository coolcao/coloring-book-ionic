<div id="drawing-page" class="flex h-full w-full flex-col justify-center">
  <div
    class="flex-grown canvas-container relative flex flex-1 items-center justify-center overflow-hidden p-0"
  >
    <div class="paper-container">
      <canvas #canvas id="drawing-canvas" class="touch-none"></canvas>
    </div>
    <div
      [ngStyle]="{
        'background-color': activeColor(),
        width: penWidth() + 'px',
        height: penWidth() + 'px',
      }"
      [ngClass]="{
        hidden: !showPreview(),
      }"
      class="preview"
      #preview
    ></div>
  </div>

  <div class="p-4">
    <!-- 颜色选择 -->
    <div class="mb-4 flex flex-wrap justify-center gap-3">
      @for (c of colors; track $index) {
        <!-- <app-pencil
        (colorChange)="selectColor($event)"
        [color]="c.hex"
      ></app-pencil> -->
        <div
          (click)="selectColor(c.hex)"
          [ngStyle]="{
            'background-color': c.hex,
          }"
          [ngClass]="{
            'scale-150': activeColor() === c.hex,
          }"
          class="color-option h-8 w-8 cursor-pointer rounded-full border-2 transition-transform duration-200 ease-in-out hover:scale-150"
        ></div>
      }
    </div>

    <!-- 画笔大小 -->
    <div class="flex items-center justify-center gap-4">
      <span class="text-gray-700">画笔粗细:</span>
      <input
        [ngModel]="penWidth()"
        (ngModelChange)="setLineWidth($event)"
        type="range"
        id="brush-size"
        min="1"
        max="35"
        class="w-32"
      />
      <span id="brush-size-value" class="w-8 text-center">{{
        penWidth()
      }}</span>
    </div>
  </div>
</div>
